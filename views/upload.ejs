<style>
    .upload-form { 
        background: white; 
        padding: 2rem; 
        border-radius: 15px; 
        margin-bottom: 2rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    .upload-list { 
        background: white;
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    .progress-container { 
        margin-top: 1rem; 
        display: none; 
    }
</style>

        <!-- Upload Form -->
        <div class="upload-form">
            <h3><i class="fas fa-upload me-2"></i>Upload CSV File</h3>
            <p class="text-muted mb-3">Upload a CSV file with email addresses to verify. Each email verification costs 1 credit.</p>
            
            <form id="uploadForm">
                <div class="mb-3">
                    <label for="csvFile" class="form-label">Select CSV File</label>
                    <input type="file" class="form-control" id="csvFile" accept=".csv" required>
                    <div class="form-text">File should contain a column named 'email' or 'mail' with email addresses.</div>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-upload me-2"></i>Upload and Verify
                </button>
            </form>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress mb-2">
                    <div class="progress-bar" id="progressBar" role="progressbar" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="progressText">Processing: 0%</div>
            </div>
        </div>

        <!-- Uploads List -->
        <div class="upload-list">
            <h3><i class="fas fa-list me-2"></i>Previous Uploads</h3>
            <% if (uploads.length > 0) { %>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Filename</th>
                                <th>Upload Date</th>
                                <th>Emails</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% uploads.forEach(upload => { %>
                                <tr>
                                    <td>
                                        <i class="fas fa-file-csv me-2 text-primary"></i>
                                        <%= upload.filename %>
                                    </td>
                                    <td><%= upload.createdAt.toLocaleString() %></td>
                                    <td>
                                        <span class="badge bg-secondary"><%= upload.totalCount || 0 %></span>
                                    </td>
                                    <td>
                                        <% if (upload.displayStatus === 'Pending') { %>
                                            <span class="status-badge pending">
                                                <i class="fas fa-clock me-1"></i>
                                                <%= upload.displayStatus %>
                                                <% if (upload.pendingCount > 0) { %>
                                                    <span class="badge bg-warning ms-1"><%= upload.pendingCount %></span>
                                                <% } %>
                                            </span>
                                        <% } else if (upload.displayStatus === 'Processed') { %>
                                            <span class="status-badge verified">
                                                <i class="fas fa-check me-1"></i>
                                                <%= upload.displayStatus %>
                                            </span>
                                        <% } else { %>
                                            <span class="status-badge invalid">
                                                <i class="fas fa-exclamation me-1"></i>
                                                <%= upload.displayStatus %>
                                            </span>
                                        <% } %>
                                    </td>
                                    <td>
                                        <a href="/upload/<%= upload._id %>" class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-eye me-1"></i>View
                                        </a>
                                        <button class="btn btn-sm btn-outline-danger delete-btn" data-id="<%= upload._id %>">
                                            <i class="fas fa-trash me-1"></i>Delete
                                        </button>
                                    </td>
                                </tr>
                            <% }); %>
                        </tbody>
                    </table>
                </div>
            <% } else { %>
                <div class="text-center py-5">
                    <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
                    <h5 class="text-muted">No uploads yet</h5>
                    <p class="text-muted">Upload a CSV file to get started with email verification.</p>
                </div>
            <% } %>
        </div>